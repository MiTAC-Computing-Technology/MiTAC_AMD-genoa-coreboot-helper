From d29f015d6e8409a9406eee27369421fb0b73d1f3 Mon Sep 17 00:00:00 2001
From: Your Name <you@example.com>
Date: Fri, 20 Sep 2024 16:23:51 +0800
Subject: [PATCH 08/14] Added the config file to build kernel for Onyx.

---
 .../LinuxBoot/x86_64/linuxboot_onyx_defconfig | 80 +++++++++++++++++++
 1 file changed, 80 insertions(+)
 create mode 100644 payloads/external/LinuxBoot/x86_64/linuxboot_onyx_defconfig

diff --git a/payloads/external/LinuxBoot/x86_64/linuxboot_onyx_defconfig b/payloads/external/LinuxBoot/x86_64/linuxboot_onyx_defconfig
new file mode 100644
index 0000000000..03540091c2
--- /dev/null
+++ b/payloads/external/LinuxBoot/x86_64/linuxboot_onyx_defconfig
@@ -0,0 +1,80 @@
+CONFIG_AMD_IOMMU=y
+CONFIG_AMD_IOMMU_V2=y
+CONFIG_ATA=y
+CONFIG_BLK_DEV_INITRD=y
+CONFIG_BLK_DEV_LOOP=y
+CONFIG_BLK_DEV_NVME=y
+CONFIG_BLK_DEV_SD=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_CMDLINE_BOOL=y
+CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=y
+CONFIG_CRYPTO_AES=y
+CONFIG_CRYPTO_HMAC=y
+CONFIG_CRYPTO_NULL=y
+CONFIG_CRYPTO_SHA256=y
+CONFIG_DEFAULT_HOSTNAME="linuxboot"
+CONFIG_DEVTMPFS_MOUNT=y
+CONFIG_DEVTMPFS=y
+CONFIG_DMI_SYSFS=y
+CONFIG_EMBEDDED=y
+CONFIG_EXT3_FS_POSIX_ACL=y
+CONFIG_EXT3_FS=y
+CONFIG_EXT4_FS=y
+CONFIG_GOOGLE_COREBOOT_TABLE=y
+CONFIG_GOOGLE_FIRMWARE=y
+CONFIG_GOOGLE_MEMCONSOLE_COREBOOT=y
+CONFIG_GOOGLE_VPD=y
+CONFIG_INET=y
+CONFIG_IPMI_DEVICE_INTERFACE=y
+CONFIG_IPMI_HANDLER=y
+CONFIG_IPMI_SI=y
+CONFIG_IRQ_REMAP=y
+CONFIG_KERNEL_XZ=y
+CONFIG_KEXEC_FILE=y
+CONFIG_KEXEC=y
+CONFIG_LSM="n"
+CONFIG_MEMTEST=y
+CONFIG_MSDOS_FS=y
+CONFIG_NETDEVICES=y
+CONFIG_NET=y
+CONFIG_NFP=y
+CONFIG_NLS_CODEPAGE_437=y
+CONFIG_NLS_ISO8859_1=y
+CONFIG_NLS_UTF8=y
+CONFIG_NVRAM=y
+CONFIG_PACKET=y
+CONFIG_PCI_MSI=y
+CONFIG_PCI=y
+CONFIG_RANDOM_TRUST_CPU=y
+CONFIG_SATA_AHCI_PLATFORM=y
+CONFIG_SATA_AHCI=y
+CONFIG_SERIAL_8250_CONSOLE=y
+CONFIG_SERIAL_8250_DW=y
+CONFIG_SERIAL_8250_EXTENDED=y
+CONFIG_SERIAL_8250_MANY_PORTS=y
+CONFIG_SERIAL_8250_NR_UARTS=32
+CONFIG_SERIAL_8250_RUNTIME_UARTS=32
+CONFIG_SERIAL_8250=y
+CONFIG_SERIAL_DEV_BUS=y
+CONFIG_SMP=y
+CONFIG_TCG_CRB=y
+CONFIG_TCG_INFINEON=y
+CONFIG_TCG_TIS=y
+CONFIG_TCG_TPM=y
+CONFIG_TIGON3=y
+CONFIG_TMPFS=y
+CONFIG_UNWINDER_GUESS=y
+CONFIG_USB=y
+CONFIG_USB_XHCI_HCD=y
+CONFIG_USB_EHCI_HCD=y
+CONFIG_USB_STORAGE=y
+CONFIG_VFAT_FS=y
+CONFIG_VIRTIO_BLK=y
+CONFIG_VIRTIO_NET=y
+CONFIG_VIRTIO_PCI=y
+CONFIG_X86_REROUTE_FOR_BROKEN_BOOT_IRQS=y
+CONFIG_XZ_DEC=y
+CONFIG_X86_AMD_PLATFORM_DEVICE=y
+CONFIG_X86_CPUID=y
+CONFIG_X86_MSR=y
+CONFIG_X86_X2APIC=y
-- 
2.34.1

